<?xml version="1.0" encoding="utf-8" standalone="no" ?>
<opacOutFormList>
  <opacOutForm description="Библиографическая ссылка" format="RUSMARC" name="BIBREF" type="BIBL">
    <buildingParams condition="::&quot;true&quot;;" type="PARSER">
      <rule value="700($a,$b[0-])::%1+ipx(&quot; &quot;,%2)+&quot;, &quot;;"/>
      <rule value="700[0],701($a,$b[0-])[/0]::#2%1+ipx(&quot; &quot;,#2%2)+&quot;, &quot;;"/>
      <rule value="{700,701}[0],710($a)[/0]::#2%1+&quot;, &quot;;"/>
      <rule value="{700,701,710}[0],461$1700($a,$b[0-])::#2%1+ipx(&quot; &quot;,#2%2)+&quot;, &quot;;"/>
      <rule value="{700,701,710,461$1700}[0],461$1701($a,$b[0-])[/0]::#2%1+ipx(&quot; &quot;,#2%2)+&quot;, &quot;;"/>
      <rule value="{700,701,710,461$1700,461$1701}[0],461$1710($a)[/0]::#2%1+&quot;, &quot;;"/>
      <rule value="2001?($a${ehi}[0-])::iser(%1,&quot;. &quot;)+ipx(for (i=%2: &quot;. &quot;+i));"/>
      <rule value="461$12001?($a),2001?[1-]::ipx(&quot;. &quot;,%1) ;"/>
      <rule value="461$12001?($a),2001?[0]::ipx(&quot; &quot;,%1) ;"/>
      <rule value="461$12001?($v)::ipx(&quot; &quot;,%1);"/>
      <rule value="205($a,$d[0-],$f[0-],$g[0-],$b[0-])::&quot;. &quot;+%1+iser(%2,&quot; = &quot;)+iser(%3,&quot; / &quot;)+iser(%4,&quot;; &quot;)+iser(%5,&quot;, &quot;);"/>
      <rule value="210($a,$c[0-],$d[0-])::&quot;. &quot;+%1+px(&quot;: &quot;,%2)+px(&quot;, &quot;,%3);"/>
      <rule value="215($a)::&quot;. &quot;+%1;"/>
      <rule value="225($a,${efhi}[0-],$v[0-])::&quot; (&quot;+iser(%1,&quot;. &quot;)+ipx(for (i=%2: &quot;. &quot;+i))+ipx(&quot;. &quot;,%3)+&quot;)&quot;;"/>
      <rule value="000,463$1200($a[0-],$v[0-])[0-],461$12001?($a[0-])[0-],463$1210($d[0-])[0-]::if(pos(#1,7,1)==&quot;a&quot; &amp;&amp; (!empty(#2) || !empty(#2%2) || !empty(#3))) &quot; (&quot;+if (!empty(#2)) ipx(#2,&quot;. &quot;) else ipx(#3,&quot;. &quot;) fi+ipx(#4,&quot; &quot;)+#2%2+&quot;)&quot; fi;"/>
      <rule value="::&quot;\n&quot;;"/>
    </buildingParams>
  </opacOutForm>
  <opacOutForm description="Полный для СКБР2" format="RUSMARC" name="FULLFRM1" type="BIBL">
    <buildingParams condition="::&quot;true&quot;;" type="PARSER">
      <rule value="700($a,$b[0-])::%1+ipx(&quot; &quot;,%2)+&quot;, &quot;;"/>
      <rule value="700[0],701($a,$b[0-])[/0]::#2%1+ipx(&quot; &quot;,#2%2)+&quot;, &quot;;"/>
      <rule value="{700,701}[0],710($a)[/0]::#2%1+&quot;, &quot;;"/>
      <rule value="{700,701,710}[0],461$1700($a,$b[0-])::#2%1+ipx(&quot; &quot;,#2%2)+&quot;, &quot;;"/>
      <rule value="{700,701,710,461$1700}[0],461$1701($a,$b[0-])[/0]::#2%1+ipx(&quot; &quot;,#2%2)+&quot;, &quot;;"/>
      <rule value="{700,701,710,461$1700,461$1701}[0],461$1710($a)[/0]::#2%1+&quot;, &quot;;"/>
      <rule value="2001?($a${ehi}[0-])::iser(%1,&quot;. &quot;)+ipx(for (i=%2: &quot;. &quot;+i));"/>
      <rule value="461$12001?($a),2001?[1-]::ipx(&quot;. &quot;,%1) ;"/>
      <rule value="461$12001?($a),2001?[0]::ipx(&quot; &quot;,%1) ;"/>
      <rule value="461$12001?($v)::ipx(&quot; &quot;,%1);"/>
      <rule value="210($d)::ipx(&quot; - &quot;,%1);"/>
      <rule value="225($a,${efhi}[0-],$v[0-])::&quot; (&quot;+iser(%1,&quot;. &quot;)+ipx(for (i=%2: &quot;. &quot;+i))+ipx(&quot;. &quot;,%3)+&quot;)&quot;;"/>
      <rule value="000,463$12001?($a[0-],$v[0-])[0-],461$12001?($a[0-])[0-],463$1210($d[0-])[0-]::if(pos(#1,7,1)==&quot;a&quot; &amp;&amp; (!empty(#2) || !empty(#2%2) || !empty(#3))) &quot; (&quot;+if (!empty(#2)) ipx(#2,&quot;. &quot;) else ipx(#3,&quot;. &quot;) fi+ipx(#4,&quot; &quot;)+#2%2+&quot;)&quot; fi;"/>
      <rule value="::&quot;\n&quot;;"/>
      <rule value="{70?,710,4??$170?,461$1710}[1-]::&quot;&lt;b>Автор: &lt;/b>&quot;;"/>
      <rule value="{70??0,4??$170??0}($a[/0],$d[0-],$c[0-],$f[0-])[/0]::%1+ipx(&quot; &quot;,%2)+ipx(&quot; (&quot;,iser(%3|%4,&quot;; &quot;),&quot;)&quot;);"/>
      <rule value="{70??1,4??$1700?1}($a[/0],$g[0-],$c[0-],$f[0-],$b[0-])[/0]::%1+if(!empty(%2))ipx(&quot;, &quot;,%2) else ipx(&quot;, &quot;,%5) fi+ipx(&quot; (&quot;,iser(%3|%4,&quot;; &quot;),&quot;)&quot;);"/>
      <rule value="{71000,4??$171000}($a[/0],$g[0-],$h[0-],$c[0-],$b[0-],$d[0-],${fe}[0-])[/0]::%1+ipx(&quot;, &quot;,%2)+ipx(&quot;, &quot;,%3)+ipx(&quot; (&quot;,%4[0],&quot;)&quot;)+for(i=%5,j=if(size(%4[1-])>0) %4[1-] else %6 fi:&quot;. &quot;+i+ipx(&quot; (&quot;,j+if(name(j)!=&quot;c&quot;) ipx(&quot;; &quot;,%7) fi,&quot;)&quot;)); "/>
      <rule value="{71002,4??$171002}($a[/0],$b[0-],$c[0-],$d[0-],${fe}[0-])[/0]::%1[0]+ipx(&quot; (&quot;,%3[0],&quot;)&quot;)+for(i=%2,j=if(size(%3[1-])>0) %3[1-] else %4 fi:&quot;. &quot;+i+ipx(&quot; (&quot;,j+if(name(j)!=&quot;c&quot;) ipx(&quot;; &quot;,%5) fi,&quot;)&quot;));"/>
      <rule value="{71001,4??$171001}($a[/0],$b[0-],$c[0-],$d[0-],${fe}[0-])[/0],50011($a,${ihql}[0-],${mkn}[0-])[0-/0]::%1[0]+ipx(&quot; (&quot;,%3[0],&quot;)&quot;)+for(i=%2,j=if(size(%3[1-])>0) %3[1-] else %4 fi:&quot;. &quot;+i+ipx(&quot; (&quot;,j+if(name(j)!=&quot;c&quot;) ipx(&quot;; &quot;,%5) fi,&quot;)&quot;))+ipx(&quot;. &quot;,#2%1[0-]|#2%2)+ipx(&quot;. (&quot;,iser(#2%3,&quot;; &quot;),&quot;)&quot;);"/>
      <rule value="{71010,4??$171010}($a[/0],$g[0-],$h[0-],$d[0-],${fe}[0-],$c[0-],$b[0-])[/0]::%1[0]+ipx(&quot;, &quot;,%2)+ipx(&quot;. &quot;,%3)+ipx(&quot; (&quot;,iser(%4[0]|%5,&quot;; &quot;),&quot;)&quot;)+for(i=%7,j=if(size(%6)>0) %6 else %4 fi:&quot;. &quot;+i+ipx(&quot; (&quot;,j+if(name(j)!=&quot;c&quot;) ipx(&quot;; &quot;,%6) fi,&quot;)&quot;));"/>
      <rule value="{71012,4??$171012}($a[/0],$d[0-],${fe}[0-],$c[0-],$b[0-])[/0]::%1+ipx(&quot; (&quot;,iser(%2[0]|%3,&quot;; &quot;),&quot;)&quot;)+for(i=%5,j=if(size(%4)>0) %4 else %2 fi:&quot;. &quot;+i+ipx(&quot; (&quot;,j+if(name(j)!=&quot;c&quot;) ipx(&quot;; &quot;,%4) fi,&quot;)&quot;));"/>
      <rule value="{70?,710,4??$170?,461$1710}[1-]::&quot;\n&quot;;"/>
      <rule value="000:: &quot;&lt;b>Тип документа:&lt;/b> &quot;+if (up(pos(#1, 6, 1))==&quot;A&quot; || up(pos(#1, 6, 1))==&quot;B&quot;) &quot;тексты&quot; fi + if (up(pos(#1, 6, 1))==&quot;C&quot; || up(pos(#1, 6, 1))==&quot;D&quot;) &quot;ноты/партитуры&quot; fi + if (up(pos(#1, 6, 1))==&quot;E&quot; || up(pos(#1, 6, 1))==&quot;F&quot;) &quot;карты&quot; fi + if (up(pos(#1, 6, 1))==&quot;G&quot;) &quot;видео/проекции&quot; fi + if (up(pos(#1, 6, 1))==&quot;I&quot; || up(pos(#1, 6, 1))==&quot;J&quot;) &quot;аудио/звуки&quot; fi + if (up(pos(#1, 6, 1))==&quot;K&quot;) &quot;2-D графика&quot; fi + if (up(pos(#1, 6, 1))==&quot;L&quot;) &quot;электронные&quot; fi + if (up(pos(#1, 6, 1))==&quot;M&quot;) &quot;комбинированные&quot; fi + if (up(pos(#1, 6, 1))==&quot;R&quot;) &quot;3-D объекты&quot; fi+&quot;\n&quot;;"/>
      <rule value="101($a[1]):: if (up(#1)==&quot;RUS&quot;) &quot;&lt;b>Язык:&lt;/b> русский&quot; fi + if (up(#1)==&quot;ENG&quot;) &quot;&lt;b>Язык:&lt;/b> английский&quot; fi + if (up(#1)==&quot;FRE&quot;) &quot;&lt;b>Язык:&lt;/b> французский&quot; fi + if (up(#1)==&quot;GER&quot;) &quot;&lt;b>Язык:&lt;/b> немецкий&quot; fi + if (up(#1)==&quot;ITA&quot;) &quot;&lt;b>Язык:&lt;/b> итальянский&quot; fi + if (up(#1)==&quot;SPA&quot;) &quot;&lt;b>Язык:&lt;/b> испанский&quot; fi + if (up(#1)==&quot;BEL&quot;) &quot;&lt;b>Язык:&lt;/b> белорусский&quot; fi + if (up(#1)==&quot;UKR&quot;) &quot;&lt;b>Язык:&lt;/b> украинский&quot; fi + if (up(#1)==&quot;ARM&quot;) &quot;&lt;b>Язык:&lt;/b> армянский&quot; fi + if (up(#1)==&quot;EPO&quot;) &quot;&lt;b>Язык:&lt;/b> эсперанто&quot; fi + if (up(#1)==&quot;GRE&quot;) &quot;&lt;b>Язык:&lt;/b> греческий&quot; fi + if (up(#1)==&quot;KOM&quot;) &quot;&lt;b>Язык:&lt;/b> коми&quot; fi + if (up(#1)==&quot;LAT&quot;) &quot;&lt;b>Язык:&lt;/b> латинский&quot; fi + if (up(#1)==&quot;POL&quot;) &quot;&lt;b>Язык:&lt;/b> польский&quot; fi + if (up(#1)==&quot;POR&quot;) &quot;&lt;b>Язык:&lt;/b> португальский&quot; fi + if (up(#1)==&quot;RUM&quot;) &quot;&lt;b>Язык:&lt;/b> румынский&quot; fi + if (up(#1)==&quot;SAH&quot;) &quot;&lt;b>Язык:&lt;/b> якутский&quot; fi + if (up(#1)==&quot;GEO&quot;) &quot;&lt;b>Язык:&lt;/b> грузинский&quot; fi + if (up(#1)==&quot;AZE&quot;) &quot;&lt;b>Язык:&lt;/b> азербайджанский&quot; fi+&quot;\n&quot;;"/>
      <rule value="{105,110}($a):: if(up(pos(#1, 4, 1))==&quot;A&quot;) &quot;&lt;b>Форма содержания:&lt;/b> библиографические издания&quot; fi +  if(up(pos(#1, 4, 1))==&quot;B&quot;) &quot;&lt;b>Форма содержания:&lt;/b> каталоги&quot; fi + if(up(pos(#1, 4, 1))==&quot;C&quot;) &quot;&lt;b>Форма содержания:&lt;/b> указатели&quot; fi + if(up(pos(#1, 4, 1))==&quot;E&quot;) &quot;&lt;b>Форма содержания:&lt;/b> словари&quot; fi + if(up(pos(#1, 4, 1))==&quot;F&quot;) &quot;&lt;b>Форма содержания:&lt;/b> энциклопедии&quot; fi + if(up(pos(#1, 4, 1))==&quot;G&quot;) &quot;&lt;b>Форма содержания:&lt;/b> справочные издания&quot; fi + if(up(pos(#1, 4, 1))==&quot;I&quot;) &quot;&lt;b>Форма содержания:&lt;/b> статистические отчеты&quot; fi + if(up(pos(#1, 4, 1))==&quot;J&quot;) &quot;&lt;b>Форма содержания:&lt;/b> учебные издания&quot; fi + if(up(pos(#1, 4, 1))==&quot;T&quot;) &quot;&lt;b>Форма содержания:&lt;/b> карикатуры и комиксы&quot; fi+&quot;\n&quot;;"/>
      <rule value="105($a):: if(up(pos(#1, 4, 1))==&quot;7&quot;) &quot;&lt;b>Форма содержания:&lt;/b> дипломные работы&quot; fi + if(up(pos(#1, 4, 2))==&quot;DM&quot; || up(pos(#1,4,1))==&quot;M&quot; || up(pos(#1,4,1))==&quot;V&quot;) &quot;&lt;b>Форма содержания:&lt;/b> диссертации/авторефераты&quot; fi + if((up(pos(#1, 4, 1))==&quot;D&quot;) &amp;&amp; (up(pos(#1, 5, 1)) != &quot;M&quot;)) &quot;&lt;b>Форма содержания:&lt;/b> рефераты и резюме&quot; fi + if(up(pos(#1, 4, 1))==&quot;H&quot;) &quot;&lt;b>Форма содержания:&lt;/b> описания проектов&quot; fi + if(up(pos(#1, 4, 1))==&quot;K&quot;) &quot;&lt;b>Форма содержания:&lt;/b> патентные документы&quot; fi + if(up(pos(#1, 4, 1))==&quot;L&quot;) &quot;&lt;b>Форма содержания:&lt;/b> стандарты&quot; fi + if(up(pos(#1, 4, 1))==&quot;N&quot;) &quot;&lt;b>Форма содержания:&lt;/b> законы и законодательные акты&quot; fi + if(up(pos(#1, 4, 1))==&quot;O&quot;) &quot;&lt;b>Форма содержания:&lt;/b> цифровые таблицы&quot; fi + if(up(pos(#1, 4, 1))==&quot;P&quot;) &quot;&lt;b>Форма содержания:&lt;/b> технические отчеты&quot; fi + if(up(pos(#1, 4, 1))==&quot;Q&quot;) &quot;&lt;b>Форма содержания:&lt;/b> экзаменационные листы&quot; fi + if(up(pos(#1, 4, 1))==&quot;R&quot;) &quot;&lt;b>Форма содержания:&lt;/b> литературные обзоры/рецензии&quot; fi + if(up(pos(#1, 4, 1))==&quot;S&quot;) &quot;&lt;b>Форма содержания:&lt;/b> договоры&quot; fi + if(up(pos(#1, 4, 1))==&quot;W&quot;) &quot;&lt;b>Форма содержания:&lt;/b> религиозные тексты&quot; fi+&quot;\n&quot;;"/>
      <rule value="110($a):: if(up(pos(#1, 4, 1))==&quot;H&quot;) &quot;&lt;b>Форма содержания:&lt;/b> ежегодные отчеты/обзоры&quot; fi + if(up(pos(#1, 4, 1))==&quot;K&quot;) &quot;&lt;b>Форма содержания:&lt;/b> обзор&quot; fi + if(up(pos(#1, 4, 1))==&quot;L&quot;) &quot;&lt;b>Форма содержания:&lt;/b> законодательные акты&quot; fi + if(up(pos(#1, 4, 1))==&quot;M&quot;) &quot;&lt;b>Форма содержания:&lt;/b> судебные отчеты и сборники решений судов&quot; fi + if(up(pos(#1, 4, 1))==&quot;N&quot;) &quot;&lt;b>Форма содержания:&lt;/b> юридические статьи&quot; fi + if(up(pos(#1, 4, 1))==&quot;O&quot;) &quot;&lt;b>Форма содержания:&lt;/b> случаи из судебной практики&quot; fi + if(up(pos(#1, 4, 1))==&quot;P&quot;) &quot;&lt;b>Форма содержания:&lt;/b> биографии&quot; fi + if(up(pos(#1, 4, 1))==&quot;R&quot;) &quot;&lt;b>Форма содержания:&lt;/b> текущие периодические обзоры&quot; fi+&quot;\n&quot;;"/>
      <rule value="210($a,$b[0-],$c[0-],$d[0-],$e[0-],$f[0-],$g[0-],$h[0-])::&quot;&lt;b>Издатель: &lt;/b>&quot;+iser(%1,&quot;; &quot;)+px(&quot; &quot;,%2)+px(&quot;: &quot;,%3)+px(&quot;, &quot;,%4)+if (!empty(%5) || !empty(%6) || !empty(%7) || !empty(%8)) &quot; (&quot;+iser(%5,&quot;; &quot;)+px(&quot; &quot;,%6)+px(&quot;: &quot;,%7)+px(&quot;, &quot;,%8)+&quot;)&quot; fi+&quot;\n&quot;;"/>
      <rule value="210($a[0],$d)::&quot;&lt;b>Год издания: &lt;/b>&quot;+iser(%2,&quot;, &quot;)+&quot;\n&quot;; "/>
      <rule value="2251?($a$?[0-]$f[0-]$?[0-])::&quot;&lt;b>Серия: &lt;/b>&quot;+iser(%1+ser(for(i=%2:if(name(i)==&quot;b&quot;) &quot; [&quot;+i+&quot;]&quot; else if(name(i)==&quot;d&quot;) &quot; = &quot;+i else if(name(i)==&quot;e&quot;) &quot; : &quot;+i else if(name(i)==&quot;x&quot;) &quot;, ISSN &quot;+i else if(name(i)==&quot;v&quot;) &quot; ; &quot;+i else if(name(i)==&quot;i&quot;) &quot;. &quot;+i fi fi fi fi fi fi))+ipx(&quot; / &quot;,iser(%3,&quot; ; &quot;))+ser(for(i=%4:if(name(i)==&quot;b&quot;) &quot; [&quot;+i+&quot;]&quot; else if(name(i)==&quot;d&quot;) &quot; = &quot;+i else if(name(i)==&quot;e&quot;) &quot; : &quot;+i else if(name(i)==&quot;f&quot;) &quot; / &quot;+i else if(name(i)==&quot;x&quot;) &quot;, ISSN &quot;+i else if(name(i)==&quot;v&quot;) &quot; ; &quot;+i else if(name(i)==&quot;i&quot;) &quot;. &quot;+i fi fi fi fi fi fi fi)),&quot;. &quot;)+&quot;\n&quot;; "/>
      <rule value="010($a)::&quot;&lt;b>ISBN: &lt;/b>&quot;+%1+&quot;\n&quot;;"/>
      <rule value="330($a)::&quot;&lt;b>Аннотация: &lt;/b>&quot;+iser(%1,&quot;\n&quot;)+&quot;\n&quot;; "/>
      <rule value="8564?($a$d[0-]$f[0-])::&quot;[URL]&lt;Электронный документ>&quot;+%1+ipx(&quot;/&quot;,%2)+px(&quot;/&quot;,%3)+&quot;\n&quot;;"/>
      <rule value="856($a[0],$q[0-/0],$u[1],$2[0-],$x[0-],$9[0-])::if (empty(%4) &amp;&amp; empty(%5)) if(up(token(%2,&quot;/&quot;)[0])!=&quot;IMAGE&quot;) if(!empty(%4)) &quot;[URL]&lt;&quot; + %4 + &quot;> &quot; else &quot;[URL]&lt;Электронный документ>&quot; fi+%3+&quot;\n&quot; fi fi;"/>
      <rule value="010($a)::&quot;[ISBN]&lt;ISBN>&quot;+%1+&quot;\n&quot;;"/>
    </buildingParams>
  </opacOutForm>
  <opacOutForm description="Подробный для СКБР2 СИГЛА" format="RUSMARC" name="FULLFRM2S" type="BIBL">
    <buildingParams condition="::&quot;true&quot;;" type="METAPARSER">
      <rule value="sigla:899($a):&quot;[SIGLA]&quot; + %1 + &quot;\n&quot;;"/>
      <rule value="sigla(|):455?1$1899??($a):if (empty(#sigla)) &quot;[SIGLA]&quot; + %1 + &quot;\n&quot; fi;"/>
      <rule value="sigla(|):856($n):if (empty(#sigla)) &quot;[SIGLA]&quot; + %1 + &quot;\n&quot; fi;"/>
      <rule value="sigla(|):801?1($b):if (empty(#sigla)) &quot;[SIGLA]&quot; + %1 + &quot;\n&quot; fi;"/>
      <rule value="::#sigla;"/>
    </buildingParams>
  </opacOutForm>
  <opacOutForm description="Подробный для СКБР2 вывод ссылки КУПИТЬ" format="RUSMARC" name="FULLFRM3" type="BIBL">
    <buildingParams condition="::&quot;true&quot;;" type="PARSER">
      <rule value="990($f[0-],$o[0-])::if (up(%1)==&quot;ЛИТРЕС&quot;) &quot;[LITRES]&quot;+%2 fi+&quot;\n&quot;;"/>
    </buildingParams>
  </opacOutForm>
  <opacOutForm description="Подробный вывод для СКБР2 поисковый запрос" format="RUSMARC" name="FULLFRM4" type="BIBL">
    <buildingParams condition="::&quot;true&quot;;" type="PARSER">
      <rule value="010($a[0-])[0-/0],461$12001?($a[0-])[0-/0],2001?($a[0-])[0-/0],{70?,710,72?}($a[0-])[0-/0],210($d[0-])[0-]::&quot;[SEARCH]&quot; + if (!empty(%1)) &quot;[NI]&quot;+%1+&quot;[/NI]&quot; fi+if (!empty(#4%1))&quot;[RP]&quot;+#4%1+&quot;[/RP]&quot; fi+if (!empty(#2%1)) &quot;[TITL]&quot;+#2%1+&quot;[/TITL]&quot;  else if  (!empty(#3%1)) &quot;[TITL]&quot;+#3%1+&quot;[/TITL]&quot; fi fi+if (!empty(digit(#5%1))) &quot;[PY]&quot;+pos(digit(#5%1),0,4) +&quot;[/PY]&quot; fi+&quot;\n&quot;;"/>
    </buildingParams>
  </opacOutForm>
  <opacOutForm description="Подробный вывод для СКБР2" format="RUSMARC" name="FULLFRM5" type="BIBL">
    <buildingParams condition="::&quot;true&quot;;" type="PARSER">
      <rule value="{600,601,602,4??$1600,4??$1601,4??$1602}[1-]::&quot;&lt;b>Имя, как тема: &lt;/b>&quot;+&quot;\n&quot;;"/>
      <rule value="{600?0,4??$1600?0}($a[1], $g[0-], $b[0-], $d[0-], ${cf}[0-], ${xyzj}[0-],${agbdcfxyzj}[0-],$3[0-]),{600,4??$1600}:: &quot;[SUBJ]&quot;+%1+if (!empty(%2)) px(&quot;, &quot;, %2) else px(&quot;, &quot;, %3) fi+px(&quot; &quot;, %4)+if (!empty(%5)) &quot; (&quot;+ser(%5, &quot;; &quot;)+&quot;)&quot; fi+px(for (i=%6:if (name(i)==&quot;z&quot;) px(&quot;, &quot;, i) else px(&quot; - &quot;, i) fi))+&quot;[/SUBJ]&quot;+if (!empty(%8)) &quot;[NUM]600[/NUM][I1]#[/I1][I2]0[/I2][VALUE]$&quot;+name(%8)+%8 fi+&quot;[/VALUE] \n&quot;;"/>
      <rule value="{600?1,4??$1600?1}($a[1], $g[0-], $b[0-], $d[0-], ${cf}[0-], ${xyzj}[0-],${agbdcfxyzj}[0-],$3[0-])::&quot;[SUBJ]&quot;+%1+if (!empty(%2)) px(&quot;, &quot;, %2) else px(&quot;, &quot;, %3) fi+px(&quot; &quot;, %4)+if (!empty(%5)) &quot; (&quot;+ser(%5, &quot;; &quot;)+&quot;)&quot; fi+px(for (i=%6:if (name(i)==&quot;z&quot;) px(&quot;, &quot;, i) else px(&quot; - &quot;, i) fi))+&quot;[/SUBJ]&quot;+if (!empty(%8)) &quot;[NUM]600[/NUM][I1]#[/I1][I2]1[/I2][VALUE]$&quot;+name(%8)+%8 fi+&quot;[/VALUE] \n&quot;;"/>
      <rule value="{60100, 4??$160100}($a$g[0-]$h[0-]$c[0-]${xyzj}[0-],${aghcxyzj}[0-],$3[0-]),{60100, 4??$160100}::&quot;[SUBJ]&quot;+%1+px(&quot;, &quot;, %2)+px(&quot;, &quot;, %3)+px(&quot; (&quot;, %4, &quot;)&quot;)+px(for (i=%5:if (name(i)==&quot;z&quot;) px(&quot;, &quot;, i) else px(&quot; - &quot;, i) fi))+&quot;[/SUBJ]&quot;+if (!emty(%7)) &quot;[NUM]601[/NUM][I1]0[/I1][I2]0[/I2][VALUE]$&quot;+name(%7)+%7 fi+&quot;[/VALUE] \n&quot;;"/>
      <rule value="{60110,4??$160110}($a$g[0-]$h[0-]${def}[0-]${xyzj}[0-],${aghdefxyzj}[0-],$3[0-]),{60110,4??$160110}::&quot;[SUBJ]&quot;+%1+px(&quot;, &quot;, %2)+px(&quot;. &quot;, %3)+if (!empty(%4)) &quot; (&quot;+ser(%4, &quot;; &quot;)+&quot;)&quot; fi+px(for (i=%5:if (name(i)==&quot;z&quot;) px(&quot;, &quot;, i) else px(&quot; - &quot;, i) fi))+&quot;[/SUBJ]&quot;+if (!empty(%7)) &quot;[NUM]601[/NUM][I1]1[/I1][I2]0[/I2][VALUE]$&quot;+name(%7)+%7 fi+&quot;[/VALUE] \n&quot;;"/>
      <rule value="{60101,4??$160101}($a${cb}[0-]${def}[0-]${xyzj}[0-],${acbdefxyzj}[0-],$3[0-])::&quot;[SUBJ]&quot;+%1+px(for (i=%2:if (name(i)==&quot;c&quot;) px(&quot; (&quot;, i, &quot;)&quot;) else px(&quot;. &quot;+i) fi))+if (!empty(%3)) &quot; (&quot;+ser(%3, &quot;; &quot;)+&quot;)&quot; fi+px(for (i=%4:if (name(i)==&quot;z&quot;) px(&quot;, &quot;, i) else px(&quot; - &quot;, i) fi))+&quot;[/SUBJ]&quot;+if (!empty(%6)) &quot;[NUM]601[/NUM][I1]0[/I1][I2]1[/I2][VALUE]$&quot;+name(%6)+%6 fi+&quot;[/VALUE] \n&quot;;"/>
      <rule value="{60102, 4??$160102}($a${cdef}[0-]${xyzj}[0-],${acdefxyzj}[0-],$3[0-])::&quot;[SUBJ]&quot;+%1+if (!empty(%2)) &quot; (&quot;+ser(%2, &quot;; &quot;)+&quot;)&quot; fi+px(for (i=%3:if (name(i)==&quot;z&quot;) px(&quot;, &quot;, i) else px(&quot; - &quot;, i) fi))+&quot;[/SUBJ]&quot;+if (!empty(%5)) &quot;[NUM]601[/NUM][I1]0[/I1][I2]2[/I2][VALUE]$&quot;+name(%5)+%5 fi+&quot;[/VALUE] \n&quot;;"/>
      <rule value="{60112, 4??$160112}($a${cdef}[0-]${xyzj}[0-],${acdefxyzj}[0-],$3[0-])::&quot;[SUBJ]&quot;+%1+if (!empty(%2)) &quot; (&quot;+ser(%2, &quot;; &quot;)+&quot;)&quot; fi+px(for (i=%3:if (name(i)==&quot;z&quot;) px(&quot;, &quot;, i) else px(&quot; - &quot;, i) fi))+&quot;[/SUBJ]&quot;+if (!empty(%5)) &quot;[NUM]601[/NUM][I1]1[/I1][I2]2[/I2][VALUE]$&quot;+name(%5)+%5 fi+&quot;[/VALUE] \n&quot;;"/>
      <rule value="{602,4??$1602}($a[1]$f[0-]${xyzj}[0-],${afxyzj}[0-],$3[0-])::&quot;[SUBJ]&quot;+%1+px(&quot; (&quot;, %2, &quot;)&quot;)+px(for (i=%3:if(name(i)==&quot;z&quot;) px(&quot;, &quot;, i) else px(&quot; - &quot;, i) fi))+&quot;[/SUBJ]&quot;+if (!empty(%5)) &quot;[NUM]602[/NUM][I1]#[/I1][I2]#[/I2][VALUE]$&quot;+name(%5)+%5 fi+&quot;[/VALUE] \n&quot;;"/>
      <rule value="{600,601,602,4??$1600,4??$1601,4??$1602}[1-]::&quot;\n&quot;;"/>
      <rule value="{70?,71?,72?,4??$170?,4??$171?,4??$172?}[1-]::&quot;&lt;b>Все авторы: &lt;/b>&quot;+&quot;\n&quot;;"/>
      <rule value="{70??0,4??$170??0}($a[/0],$d[0-],$c[0-],$f[0-],${adcf}[0-],$3[0-])::&quot;[RP]&quot;+%1+ipx(&quot; &quot;,%2)+ipx(&quot; (&quot;,iser(%3|%4,&quot;; &quot;),&quot;)&quot;)+&quot;[/RP]&quot;+if (!empty(%6)) &quot;[NUM]700[/NUM][I1]#[/I1][I2]0[/I2][VALUE]$&quot;+name(%6)+%6 fi+&quot;[/VALUE] \n&quot;;"/>
      <rule value="{70??1,4??$170??1}($a[/0],$g[0-],$c[0-],$f[0-],$b[0-],${agcfb}[0-],$3[0-])::&quot;[RP]&quot;+%1+if(!empty(%2))ipx(&quot;, &quot;,%2) else ipx(&quot;, &quot;,%5) fi+ipx(&quot; (&quot;,iser(%3|%4,&quot;; &quot;),&quot;)&quot;)+&quot;[/RP]&quot;+if (!empty(%7)) &quot;[NUM]700[/NUM][I1]#[/I1][I2]1[/I2][VALUE]$&quot;+name(%7)+%7 fi+&quot;[/VALUE] \n&quot;;"/>
      <rule value="{71?00,4??$171?00}($a[/0],$g[0-],$h[0-],$c[0-],$b[0-],$d[0-],${fe}[0-],${aghcbdfe}[0-],$3[0-])::&quot;[RP]&quot;+%1+ipx(&quot;, &quot;,%2)+ipx(&quot;, &quot;,%3)+ipx(&quot; (&quot;,%4[0],&quot;)&quot;)+for(i=%5,j=if(size(%4[1-])>0) %4[1-] else %6 fi:&quot;. &quot;+i+ipx(&quot; (&quot;,j+if(name(j)!=&quot;c&quot;) ipx(&quot;; &quot;,%7) fi,&quot;)&quot;))+&quot;[/RP]&quot;+if (!empty(%9)) &quot;[NUM]710[/NUM][I1]0[/I1][I2]0[/I2][VALUE]$&quot;+ name(%9)+%9 fi+&quot;[/VALUE] \n&quot;;"/>
      <rule value="{71002,71102,71202,4??$171002,4??$171102,4??$171202}($a[/0],$b[0-],$c[0-],$d[0-],${fe}[0-],${abcdfe}[0-],$3[0-])::&quot;[RP]&quot;+%1[0]+ipx(&quot; (&quot;,%3[0],&quot;)&quot;)+for(i=%2,j=if(size(%3[1-])>0) %3[1-] else %4 fi:&quot;. &quot;+i+ipx(&quot; (&quot;,j+if(name(j)!=&quot;c&quot;) ipx(&quot;; &quot;,%5) fi,&quot;)&quot;))+&quot;[/RP]&quot;+if (!empty(%7)) &quot;[NUM]710[/NUM][I1]0[/I1][I2]2[/I2][VALUE]$&quot;+name(%7)+%7 fi+&quot;[/VALUE] \n&quot;;"/>
      <rule value="{71?01,4??$171?01}($a[/0],$b[0-],$c[0-],$d[0-],${fe}[0-],${abcdfe}[0-],$3[0-])::&quot;[RP]&quot;+%1[0]+ipx(&quot; (&quot;,%3[0],&quot;)&quot;)+for(i=%2,j=if(size(%3[1-])>0) %3[1-] else %4 fi:&quot;. &quot;+i+ipx(&quot; (&quot;,j+if(name(j)!=&quot;c&quot;) ipx(&quot;; &quot;,%5) fi,&quot;)&quot;))+&quot;[/RP]&quot;+if (!empty(%7)) &quot;[NUM]710[/NUM][I1]0[/I1][I2]1[/I2][VALUE]$&quot;+name(%7)+%7 fi+&quot;[/VALUE] \n&quot;;"/>
      <rule value="{71?10,4??$171?10}($a[/0],$g[0-],$h[0-],$d[0-],${fe}[0-],$c[0-],$b[0-],${aghdfecb}[0-],$3[0-])::&quot;[RP]&quot;+%1[0]+ipx(&quot;, &quot;,%2)+ipx(&quot;. &quot;,%3)+ipx(&quot; (&quot;,iser(%4[0]|%5,&quot;; &quot;),&quot;)&quot;)+for(i=%7,j=if(size(%6)>0) %6 else %4 fi:&quot;. &quot;+i+ipx(&quot; (&quot;,j+if(name(j)!=&quot;c&quot;) ipx(&quot;; &quot;,%8) fi,&quot;)&quot;))+&quot;[/RP]&quot;+if (!empty(%9)) &quot;[NUM]710[/NUM][I1]1[/I1][I2]0[/I2][VALUE]$&quot;+name(%9)+%9 fi+&quot;[/VALUE] \n&quot;;"/>
      <rule value="{71?12,4??$171?12}($a[/0],$d[0-],${fe}[0-],$c[0-],$b[0-],${adfecb}[0-],$3[0-])::&quot;[RP]&quot;+%1+ipx(&quot; (&quot;,iser(%2[0]|%3,&quot;; &quot;),&quot;)&quot;)+for(i=%5,j=if(size(%4)>0) %4 else %2 fi:&quot;. &quot;+i+ipx(&quot; (&quot;,j+if(name(j)!=&quot;c&quot;) ipx(&quot;; &quot;,%4) fi,&quot;)&quot;))+&quot;[/RP]&quot;+if (!empty(%7)) &quot;[NUM]710[/NUM][I1]1[/I1][I2]2[/I2][VALUE]$&quot;+name(%7)+%7 fi+&quot;[/VALUE] \n&quot;;"/>
      <rule value="{72?, 4??$172?}($a, $f[0-],${af}[0-],$3[0-])::&quot;[RP]&quot;+%1+px(&quot; (&quot;, %2, &quot;)&quot;)+&quot;[/RP]&quot;+if (!empty(%4)) &quot;[NUM]720[/NUM][I1]#[/I1][I2]#[/I2][VALUE]$&quot;+name(%4)+%4 fi+&quot;[/VALUE] \n&quot;;"/>
      <rule value="{70?,71?,72?,4??$170?,4??$171?,4??$172?}[1-]::&quot;\n&quot;;"/>
      <rule value="205($a,$d[0-],$f[0-],$g[0-],$b[0-])::&quot;&lt;b>Издание: &lt;/b>&quot;+%1+iser(%2,&quot; = &quot;)+iser(%3,&quot; / &quot;)+iser(%4,&quot;; &quot;)+iser(%5,&quot;, &quot;)+&quot;\n&quot;;"/>
      <rule value="215($a,$c[0-],$d[0-],$e[0-])::&quot;&lt;b>Физическая характеристика: &lt;/b>&quot;+%1+px(&quot;: &quot;,%2)+iser(%3,&quot;; &quot;)+iser(%4,&quot; + &quot;)+&quot;\n&quot;;"/>
      <rule value="327[1-]::&quot;&lt;b>Содержание: &lt;/b>&quot;+&quot;\n&quot;;"/>
      <rule value="327($a)::%1+&quot;\n&quot;;"/>
      <rule value="327[1-]::&quot;\n&quot;;"/>
      <rule value="{30?,31?,33?,34?,320,321,322,323,324,325,326}[1-]::&quot;&lt;b>Примечания: &lt;/b>&quot;+&quot;\n&quot;;"/>
      <rule value="{30?,31?,33?,34?,320,321,322,323,324,325,326}($a)::%1+&quot;\n&quot;;"/>
      <rule value="{30?,31?,33?,34?,320,321,322,323,324,325,326}[1-]::&quot;\n&quot;;"/>
      <rule value="5??[1-]::&quot;&lt;b>Другие заглавия: &lt;/b>&quot;+&quot;\n&quot;;"/>
      <rule value="423?0$12001?($?[0-],$v[0-])[/0]::&quot;&lt;b>&quot;+ser(for(i=%1:if(name(i)==&quot;b&quot;) &quot; [&quot;+i+&quot;]&quot; else if(name(i)==&quot;d&quot;) &quot; = &quot;+i else if(name(i)==&quot;e&quot;) &quot; : &quot;+i else if(name(i)==&quot;h&quot;) &quot;, &quot;+i else if(name(i)==&quot;i&quot;) &quot;. &quot;+i else if(name(i)==&quot;f&quot;) &quot; / &quot;+i else if(name(i)==&quot;g&quot;) &quot; ; &quot;+i else if(name(i)==&quot;a&quot;) &quot;. &quot;+i+px(&quot;. &quot;,%2) fi fi fi fi fi fi fi fi))+&quot;\n&quot;;  "/>
      <rule value="{5001?,4??$15001?}($a$h[0-]$i[0-])::ser(%1, &quot;. &quot;)+px(&quot;. &quot;, %2)+px(&quot;. &quot;, %3)+&quot;\n&quot;;"/>
      <rule value="{501,503, 51?, 520, 530, 531, 532, 54?,4??$1501,4??$1503, 4??$151?, 4??$1520, 4??$1530, 4??$1531, 4??$1532, 4??$154?}($a)::%1+&quot;\n&quot;;"/>
      <rule value="5??[1-]::&quot;\n&quot;;"/>
    </buildingParams>
  </opacOutForm>
  <opacOutForm description="Подробный вывод для СКБР2" format="RUSMARC" name="FULLFRM6" type="BIBL">
    <buildingParams condition="::&quot;true&quot;;" type="PARSER">
      <rule value="{606##, 4??$1606##}($a[1], ${xyzj}[0-],${axyzj}[0-],$3[0-])::&quot;[SUBJ]&quot;+%1+px(for (i=%2:if (name(i)==&quot;z&quot;) px(&quot;, &quot;, i) else px(&quot; - &quot;, i) fi))+&quot;[/SUBJ]&quot;+if (!empty(%4)) &quot;[NUM]606[/NUM][I1]#[/I1][I2]#[/I2][VALUE]$3&quot;+%4 fi+&quot;[/VALUE] \n&quot;;"/>
      <rule value="{6060#, 4??$16060#}($a[1], ${xyzj}[0-],${axyzj}[0-],$3[0-])::&quot;[SUBJ]&quot;+%1+px(for (i=%2:if (name(i)==&quot;z&quot;) px(&quot;, &quot;, i) else px(&quot; - &quot;, i) fi))+&quot;[/SUBJ]&quot;+if (!empty(%4)) &quot;[NUM]606[/NUM][I1]0[/I1][I2]#[/I2][VALUE]$3&quot;+%4 fi+&quot;[/VALUE] \n&quot;;"/>
      <rule value="{6061#, 4??$16061#}($a[1], ${xyzj}[0-],${axyzj}[0-],$3[0-])::&quot;[SUBJ]&quot;+%1+px(for (i=%2:if (name(i)==&quot;z&quot;) px(&quot;, &quot;, i) else px(&quot; - &quot;, i) fi))+&quot;[/SUBJ]&quot;+if (!empty(%4)) &quot;[NUM]606[/NUM][I1]1[/I1][I2]#[/I2][VALUE]$3&quot;+%4 fi+&quot;[/VALUE] \n&quot;;"/>
      <rule value="{6062#, 4??$16062#}($a[1], ${xyzj}[0-],${axyzj}[0-],$3[0-])::&quot;[SUBJ]&quot;+%1+px(for (i=%2:if (name(i)==&quot;z&quot;) px(&quot;, &quot;, i) else px(&quot; - &quot;, i) fi))+&quot;[/SUBJ]&quot;+if (!empty(%4)) &quot;[NUM]606[/NUM][I1]2[/I1][I2]#[/I2][VALUE]$3&quot;+%4 fi+&quot;[/VALUE] \n&quot;;"/>
      <rule value="{607, 4??$1607}($a[1], ${xyzj}[0-],${axyzj}[0-],$3[0-])::&quot;[SUBJ]&quot;+%1+px(for (i=%2:if (name(i)==&quot;z&quot;) px(&quot;, &quot;, i) else px(&quot; - &quot;, i) fi))+&quot;[/SUBJ]&quot;+if (!empty(%4)) &quot;[NUM]607[/NUM][I1]#[/I1][I2]#[/I2][VALUE]$3&quot;+%4 fi+&quot;[/VALUE] \n&quot;;"/>
      <rule value="{608, 4??$1608}($a[1], ${xyzj}[0-],${axyzj}[0-],$3[0-])::&quot;[SUBJ]&quot;+%1+px(for (i=%2:if (name(i)==&quot;z&quot;) px(&quot;, &quot;, i) else px(&quot; - &quot;, i) fi))+&quot;[/SUBJ]&quot;+if (!empty(%4)) &quot;[NUM]608[/NUM][I1]#[/I1][I2]#[/I2][VALUE]$3&quot;+%4 fi+&quot;[/VALUE] \n&quot;;"/>
      <rule value="{605, 4??$1605}($a, ${hi}[0-], ${bklmnrsuw}[0-], $q[0-], ${xyzj}[0-],${ahibklmnrsuwgxyzj}[0-],$3[0-])::&quot;[SUBJ]&quot;+ser(%1, &quot;. &quot;)+px(for(i=%2:px(&quot;. &quot;, i)))+if (!empty(%3)) &quot;(&quot;+px(for(i=%3:px(&quot;; &quot;, i)))+&quot;)&quot;fi+px(&quot;. &quot;, %4)+px(for(j=%5:if (j==&quot;z&quot;) px(&quot;, &quot;, j) else px(&quot; - &quot;, j) fi))+&quot;[/SUBJ]&quot;+if (!empty(%7)) &quot;[NUM]605[/NUM][I1]#[/I1][I2]#[/I2][VALUE]$3&quot;+%7 fi+&quot;[/VALUE] \n&quot;;"/>
      <rule value="604({70?, 790}($a[1], $g[0-], $b[0-], $d[0-], ${cf}[0-],${3agbdcf}), {500, 501}($a${hi}[0-], ${bklmnrsuw}[0-], $q[0-], ${xyzj}[0-],${ahibklmnrsuwqxyzj}[0-],$3[0-]))::&quot;[SUBJ]&quot;+%1+if (!empty(%2)) px(&quot;, &quot;, %2) else px(&quot;, &quot;, %3) fi+px(&quot; &quot;, %4)+if (!empty(%5)) &quot; (&quot;+ser(%5, &quot;; &quot;)+&quot;)&quot; fi+px(&quot;. &quot;, #2%1)+px(for (i=#2%2:px(&quot;. &quot;, i)))+if (!empty(#2%3)) &quot;(&quot;+px(for(i=#2%3:px(&quot;; &quot;, i)))+&quot;)&quot;fi+px(&quot;. &quot;, #2%4)+px(for(j=#2%5:if (j==&quot;z&quot;) px(&quot;, &quot;, j) else px(&quot; - &quot;, j) fi))+&quot;[/SUBJ]&quot;+if (!empty(#2%7)) &quot;[NUM]604[/NUM][I1]#[/I1][I2]#[/I2][VALUE]$3&quot;+#2%7 fi+&quot;[/VALUE] \n&quot;;"/>
      <rule value="604({71?00, 79100}($a$g[0-]$h[0-]$c[0-],${3aghc}), {500, 501}($a${hi}[0-], ${bklmnrsuw}[0-], $q[0-], ${xyzj}[0-],${hibklmnrsuwqxyzj}[0-],$3[0-]))::&quot;[SUBJ]&quot;+%1+px(&quot;, &quot;, %2)+px(&quot;, &quot;, %3)+px(&quot; (&quot;, %4, &quot;)&quot;)+px(&quot;. &quot;, #2%1)+px(for (i=#2%2:px(&quot;. &quot;, i)))+if (!empty(#2%3)) &quot;(&quot;+px(for(i=#2%3:px(&quot;; &quot;, i)))+&quot;)&quot;fi+px(&quot;.&quot;, #2%4)+px(for(j=#2%5:if (j==&quot;z&quot;) px(&quot;, &quot;, j) else px(&quot; - &quot;, j) fi))+&quot;[/SUBJ]&quot;+if (!empty(#2%7)) &quot;[NUM]604[/NUM][I1]#[/I1][I2]#[/I2][VALUE]$3&quot;+#2%7 fi+&quot;[/VALUE] \n&quot;;"/>
      <rule value="604({71?10, 79110}($a$g[0-]$h[0-]${def}[0-],${3aghdef}), {500, 501}($a${hi}[0-], ${bklmnrsuw}[0-], $q[0-], ${xyzj}[0-],${ahibklmnrsuwqxyzj},$3[0-]))::&quot;[SUBJ]&quot;+%1+px(&quot;, &quot;, %2)+px(&quot;. &quot;, %3)+if (!empty(%4)) &quot; (&quot;+ser(%4, &quot;; &quot;)+&quot;)&quot; fi+px(&quot;. &quot;, #2%1)+px(for (i=#2%2:px(&quot;. &quot;, i)))+if (!empty(#2%3)) &quot;(&quot;+px(for(i=#2%3:px(&quot;; &quot;, i)))+&quot;)&quot;fi+px(&quot;. &quot;, #2%4)+px(for(j=#2%5:if (j==&quot;z&quot;) px(&quot;, &quot;, j) else px(&quot; - &quot;, j) fi))+&quot;[/SUBJ]&quot;+if (!empty(#2%7)) &quot;[NUM]604[/NUM][I1]#[/I1][I2]#[/I2][VALUE]$3&quot;+#2%7 fi+&quot;[/VALUE] \n&quot;;"/>
      <rule value="604({71?01, 79101}($a${cb}[0-]${def}[0-],${3acbdef}), {500, 501}($a${hi}[0-], ${bklmnrsuw}[0-], $q[0-], ${xyzj}[0-],${ahibklmnrsuwqxyzj},$3[0-]))::&quot;[SUBJ]&quot;+%1+px(for (i=%2:if (name(i)==&quot;c&quot;) px(&quot; (&quot;, i, &quot;)&quot;) else px(&quot;. &quot;+i) fi))+if (!empty(%3)) &quot; (&quot;+ser(%3, &quot;; &quot;)+&quot;)&quot; fi+px(&quot;. &quot;, #2%1)+px(for (i=#2%2:px(&quot;. &quot;, i)))+if (!empty(#2%3)) &quot;(&quot;+px(for(i=#2%3:px(&quot;; &quot;, i)))+&quot;)&quot;fi+px(&quot;. &quot;, #2%4)+px(for(j=#2%5:if (j==&quot;z&quot;) px(&quot;, &quot;, j) else px(&quot; - &quot;, j) fi))+&quot;[/SUBJ]&quot;+if (!empty(#2%7)) &quot;[NUM]604[/NUM][I1]#[/I1][I2]#[/I2][VALUE]$3&quot;+#2%7 fi+&quot;[/VALUE] \n&quot;;"/>
      <rule value="604({71??2, 791?2}($a${cdef}[0-],${3acdef}), {500, 501}($a${hi}[0-], ${bklmnrsuw}[0-], $q[0-], ${xyzj}[0-],${ahibklmnrsuwqxyzj},$3[0-]))::&quot;[SUBJ]&quot;+%1+if (!empty(%2)) &quot; (&quot;+ser(%2, &quot;; &quot;)+&quot;)&quot; fi+px(&quot;. &quot;, #2%1)+px(for (i=#2%2:px(&quot;. &quot;, i)))+if (!empty(#2%3)) &quot;(&quot;+px(for(i=#2%3:px(&quot;; &quot;, i)))+&quot;)&quot;fi+px(&quot;. &quot;, #2%4)+px(for(j=#2%5:if (j==&quot;z&quot;) px(&quot;, &quot;, j) else px(&quot; - &quot;, j) fi))+&quot;[/SUBJ]&quot;+if (!empty(#2%7)) &quot;[NUM]604[/NUM][I1]#[/I1][I2]#[/I2][VALUE]$3&quot;+#2%7 fi+&quot;[/VALUE] \n&quot;;"/>
      <rule value="{615,4??$1615}($a,$x[0-],${ax},$3[0-])::&quot;[SUBJ]&quot;+%1+px(&quot; &quot;,%2)+&quot;[/SUBJ]&quot;+if (!empty(%4)) &quot;[NUM]615[/NUM][I1]#[/I1][I2]#[/I2][VALUE]$3&quot;+%4 fi+&quot;[/VALUE] \n&quot;;"/>
      <rule value="{616,4??$1616}($a,${fc}[0-],${xyzj}[0-],${afcxyzj},$3[0-])::&quot;[SUBJ]&quot;+%1+if(!empty(%2)) &quot; (&quot; +iser(%2,&quot;; &quot;)+&quot;)&quot; fi+px(&quot; - &quot;, %3)+&quot;[/SUBJ]&quot;+if (!empty(%5)) &quot;[NUM]616[/NUM][I1]#[/I1][I2]#[/I2][VALUE]$3&quot;+%5 fi+&quot;[/VALUE] \n&quot;;"/>
      <rule value="{617,4??$1617}($o[0-],${abcdefghikmn},${oabcdefghikmn},$3[0-])::&quot;[SUBJ]&quot;+if(!empty(%1)) ser(%1,&quot;. &quot;)+&quot;. &quot; fi + ser(%2,&quot;. &quot;)+&quot;[/SUBJ]&quot;+if (!empty(%4)) &quot;[NUM]617[/NUM][I1]#[/I1][I2]#[/I2][VALUE]$3&quot;+%4 fi+&quot;[/VALUE] \n&quot;;"/>
      <rule value="{606, 4??$1606, 607, 4??$1607, 608, 4??$1608,605, 4??$1605,604,615,4??$1615,616,4??$1616,617,4??$1617}[1-]::&quot;\n&quot;;"/>
    </buildingParams>
  </opacOutForm>
  <opacOutForm description="Короткий" format="RUSMARC" name="SHOTFRM" type="BIBL">
    <buildingParams condition="000,251($c)::if(pos(%1,9,1)==&quot;a&quot; &amp;&amp; up(#2)==&quot;ФОНД&quot;) &quot;true&quot; else &quot;false&quot; fi;" type="PARSER">
      <rule value="251($c)::ipx(%1,&quot;: &quot;);"/>
      <rule value="852($a[0-],$g[0-],$j[0-])[0-], 2001?($a,$j[0-])::iser(if(!empty(%2|%3)) ipx(%1,&quot; &quot;,%2|%3) else %1 fi|iser(#2%1|#2%2, &quot;. &quot;),&quot;. &quot;)+&quot;\n&quot;;"/>
      <rule value="430$12001?($a,$j[0-])::iser(%1+ipx(&quot; (&quot;,%2,&quot;)&quot;),&quot; &quot;)+&quot;\n&quot;;"/>
      <rule value="251($a)[0-],215($a)[0-],100($a)::ipx(%1,&quot;, &quot;)+ipx(#2%1,&quot;, &quot;)+pos(#3%1,9,4)+&quot;-&quot;+pos(#3%1,13,4)+&quot;\n&quot;;"/>
      <rule value="430(001[/0],029($c[0-],$b[0-])[0-/0])::&quot;[SEE8]&lt;Продолженное&quot;+if(!empty(#2%1|#2%2)) px(&quot; &quot;,#2%1[0]|#2%2[0])fi+&quot;> &quot;+%1+&quot;\n&quot;;"/>
      <rule value="431(001[/0],029($c[0-],$b[0-])[0-/0])::&quot;[SEE8]&lt;Продолженное частично&quot;+if(!empty(#2%1|#2%2)) px(&quot; &quot;,#2%1[0]|#2%2[0])fi+&quot;>&quot;+%1+&quot;\n&quot;;"/>
      <rule value="432(001[/0],029($c[0-],$b[0-])[0-/0])::&quot;[SEE8]&lt;Замененное&quot;+if(!empty(#2%1|#2%2)) px(&quot; &quot;,#2%1[0]|#2%2[0])fi+&quot;> &quot;+%1+&quot;\n&quot;;"/>
      <rule value="433(001[/0],029($c[0-],$b[0-])[0-/0])::&quot;[SEE8]&lt;Замененное частично&quot;+if(!empty(#2%1|#2%2)) px(&quot; &quot;,#2%1[0]|#2%2[0])fi+&quot;> &quot;+%1+&quot;\n&quot;;"/>
      <rule value="434(001[/0],029($c[0-],$b[0-])[0-/0])::&quot;[SEE8]&lt;Поглощенное&quot;+if(!empty(#2%1|#2%2)) px(&quot; &quot;,#2%1[0]|#2%2[0])fi+&quot;> &quot;+%1+&quot;\n&quot;;"/>
      <rule value="436$1001::&quot;[SEE8]&lt;Издания, участвовавшие в слиянии> &quot;+%1+&quot;\n&quot;;"/>
      <rule value="440(001[/0],029($c[0-],$b[0-])[0-/0])::&quot;[SEE8]&lt;Продолжается под&quot;+if(!empty(#2%1|#2%2)) px(&quot; &quot;,#2%1[0]|#2%2[0]) else &quot;...&quot; fi+&quot;> &quot;+#1+&quot;\n&quot;;"/>
      <rule value="441(001[/0],029($c[0-],$b[0-])[0-/0])::&quot;[SEE8]&lt;Продолжается частично под&quot;+if(!empty(#2%1|#2%2)) px(&quot; &quot;,#2%1[0]|#2%2[0]) else &quot;...&quot; fi+&quot;> &quot;+#1+&quot;\n&quot;;"/>
      <rule value="442(001[/0],029($c[0-],$b[0-])[0-/0])::&quot;[SEE8]&lt;Заменено на&quot;+if(!empty(#2%1|#2%2)) px(&quot; &quot;,#2%1[0]|#2%2[0]) else &quot;...&quot; fi+&quot;> &quot;+#1+&quot;\n&quot;;"/>
      <rule value="443(001[/0],029($c[0-],$b[0-])[0-/0])::&quot;[SEE8]&lt;Заменено частично на&quot;+if(!empty(#2%1|#2%2)) px(&quot; &quot;,#2%1[0]|#2%2[0]) else &quot;...&quot; fi+&quot;> &quot;+#1+&quot;\n&quot;;"/>
      <rule value="444(001[/0],029($c[0-],$b[0-])[0-/0])::&quot;[SEE8]&lt;Поглотившее&quot;+if(!empty(#2%1|#2%2)) px(&quot; &quot;,#2%1[0]|#2%2[0]) fi+&quot;> &quot;+#1+&quot;\n&quot;;"/>
      <rule value="446(001[/0],029($c[0-],$b[0-])[0-/0])::&quot;[SEE8]&lt;Разделилось на&quot;+if(!empty(#2%1|#2%2)) px(&quot; &quot;,#2%1[0]|#2%2[0]) else &quot;...&quot; fi+&quot;> &quot;+#1+&quot;\n&quot;;"/>
      <rule value="448(001[/0],029($c[0-],$b[0-])[0-/0])::&quot;[SEE8]&lt;Возобновилось под прежним заглавием&quot;+if(!empty(#2%1|#2%2)) px(&quot; &quot;,#2%1[0]|#2%2[0]) fi+&quot;> &quot;+#1+&quot;\n&quot;;"/>
      <rule value="330::&quot;[SEE4]&lt;Аннотация>\n&quot;;"/>
      <rule value=":: &quot;\n&quot;;"/>
      <rule value="000, 001, 461[0], 462[0] :: if(pos(%1,7,3)==&quot;c1a&quot;) &quot;[SEEF]&lt;Опись>{\&quot;area\&quot;:\&quot;iddb\&quot;, \&quot;query\&quot;:\&quot;ARCB '&quot; + rpl(#2, &quot;\\&quot;, &quot;\\\\\\\\&quot;) + &quot;'\&quot;}&quot; + &quot;\n&quot; fi;"/>
      <rule value="000, 461[1], 462$1001[1] :: if(pos(%1,7,3)==&quot;c2a&quot;) &quot;[SEEF]&lt;Опись>{\&quot;area\&quot;:\&quot;iddb\&quot;, \&quot;query\&quot;:\&quot;ID '&quot; + rpl(#3, &quot;\\&quot;, &quot;\\\\\\\\&quot;) + &quot;'\&quot;}&quot; + &quot;\n&quot; fi;"/>
      <rule value="000, 001, 461[0], 462[0] :: if(pos(%1,7,3)==&quot;c1a&quot;) &quot;[SEEF]&lt;Дело>{\&quot;area\&quot;:\&quot;iddb\&quot;, \&quot;query\&quot;:\&quot;ARCM '&quot; + rpl(#2, &quot;\\&quot;, &quot;\\\\\\\\&quot;) + &quot;'\&quot;}&quot; + &quot;\n&quot; fi;"/>
      <rule value="000, 001, 461[1], 462[0] :: if(pos(%1,7,3)==&quot;c2a&quot;) &quot;[SEEF]&lt;Дело>{\&quot;area\&quot;:\&quot;iddb\&quot;, \&quot;query\&quot;:\&quot;ARCM '&quot; + rpl(#2, &quot;\\&quot;, &quot;\\\\\\\\&quot;) + &quot;'\&quot;}&quot; + &quot;\n&quot; fi;"/>
      <rule value="000, 461[1], 462(001, 251($c)) :: if(pos(%1,7,3)==&quot;m2a&quot;) &quot;[SEEF]&lt;&quot; + #4 + &quot;>{\&quot;area\&quot;:\&quot;iddb\&quot;, \&quot;query\&quot;:\&quot;ID '&quot; + rpl(#3, &quot;\\&quot;, &quot;\\\\\\\\&quot;) + &quot;'\&quot;}&quot; + &quot;\n&quot; fi;"/>
      <rule value="000, 001, 461[0], 462[0] :: if(pos(%1,7,3)==&quot;c1a&quot;) &quot;[SEEF]&lt;Документ>{\&quot;area\&quot;:\&quot;iddb\&quot;, \&quot;query\&quot;:\&quot;ARCE '&quot; + rpl(#2, &quot;\\&quot;, &quot;\\\\\\\\&quot;) + &quot;'\&quot;}&quot; + &quot;\n&quot; fi;"/>
      <rule value="000, 001, 461[1], 462[0-] :: if(pos(%1,7,3)==&quot;c2a&quot;) &quot;[SEEF]&lt;Документ>{\&quot;area\&quot;:\&quot;iddb\&quot;, \&quot;query\&quot;:\&quot;ARCE '&quot; + rpl(#2, &quot;\\&quot;, &quot;\\\\\\\\&quot;) + &quot;'\&quot;}&quot; + &quot;\n&quot; fi;"/>
    </buildingParams>
    <buildingParams condition="000,251($c)::if(pos(%1,9,1)==&quot;a&quot; &amp;&amp; up(#2)==&quot;ОПИСЬ&quot;) &quot;true&quot; else &quot;false&quot; fi;" type="PARSER">
      <rule value="251($c)::ipx(%1,&quot;: &quot;);"/>
      <rule value="852($a[0-],$j[0-])[0-],461$1852($g[0-],$j[0-])[0-]::ipx(%1,&quot; &quot;)+ipx(#2%1+#2%2,&quot; &quot;)+ipx(&quot;Оп.&quot;,%2)+&quot;\n&quot;;"/>
      <rule value="461(852($a[0-],$g[0-],$j[0-])[0-], 200($v[0-])[0-])[0-], 852($g[0-],$j[0-])[0-]::if(!empty(%2|%3)) ipx(%1,&quot; &quot;,%2|%3) else %1 fi + if(!empty(#3%1|#3%2)) ipx(&quot; Оп. &quot;,#3%1|#3%2) else ipx(&quot; &quot;,#2) fi;"/>
      <rule value="200($a)::iser(%1,&quot;. &quot;);"/>
      <rule value=":: &quot;\n&quot;;"/>
      <rule value="461$1200($v[0-])[0-], 200($a,$j[0-]):: iser(uniq(%1|#2%1|#2%2,&quot;true&quot;), &quot;. &quot;)+&quot;\n&quot;;"/>
      <rule value="215($a)[0-],100($a)::ipx(%1,&quot;, &quot;)+pos(#2%1,9,4)+&quot;-&quot;+pos(#2%1,13,4) +&quot;\n&quot;;"/>
      <rule value="461$1001 :: &quot;[SEEF]&lt;Фонд>{\&quot;area\&quot;:\&quot;iddb\&quot;, \&quot;query\&quot;:\&quot;ID '&quot; + rpl(%1, &quot;\\&quot;, &quot;\\\\\\\\&quot;) + &quot;'\&quot;}&quot; + &quot;\n&quot;;"/>
      <rule value="000, 001, 461[0], 462[0] :: if(pos(%1,7,3)==&quot;c1a&quot;) &quot;[SEEF]&lt;Дело>{\&quot;area\&quot;:\&quot;iddb\&quot;, \&quot;query\&quot;:\&quot;ARCM '&quot; + rpl(#2, &quot;\\&quot;, &quot;\\\\\\\\&quot;) + &quot;'\&quot;}&quot; + &quot;\n&quot; fi;"/>
      <rule value="000, 001, 461[1], 462[0] :: if(pos(%1,7,3)==&quot;c2a&quot;) &quot;[SEEF]&lt;Дело>{\&quot;area\&quot;:\&quot;iddb\&quot;, \&quot;query\&quot;:\&quot;ARCM '&quot; + rpl(#2, &quot;\\&quot;, &quot;\\\\\\\\&quot;) + &quot;'\&quot;}&quot; + &quot;\n&quot; fi;"/>
      <rule value="000, 461[1], 462(001, 251($c)) :: if(pos(%1,7,3)==&quot;m2a&quot;) &quot;[SEEF]&lt;&quot; + #4 + &quot;>{\&quot;area\&quot;:\&quot;iddb\&quot;, \&quot;query\&quot;:\&quot;ID '&quot; + rpl(#3, &quot;\\&quot;, &quot;\\\\\\\\&quot;) + &quot;'\&quot;}&quot; + &quot;\n&quot; fi;"/>
      <rule value="000, 001, 461[0], 462[0] :: if(pos(%1,7,3)==&quot;c1a&quot;) &quot;[SEEF]&lt;Документ>{\&quot;area\&quot;:\&quot;iddb\&quot;, \&quot;query\&quot;:\&quot;ARCE '&quot; + rpl(#2, &quot;\\&quot;, &quot;\\\\\\\\&quot;) + &quot;'\&quot;}&quot; + &quot;\n&quot; fi;"/>
      <rule value="000, 001, 461[1], 462[0-] :: if(pos(%1,7,3)==&quot;c2a&quot;) &quot;[SEEF]&lt;Документ>{\&quot;area\&quot;:\&quot;iddb\&quot;, \&quot;query\&quot;:\&quot;ARCE '&quot; + rpl(#2, &quot;\\&quot;, &quot;\\\\\\\\&quot;) + &quot;'\&quot;}&quot; + &quot;\n&quot; fi;"/>
    </buildingParams>
    <buildingParams condition="000,251($c)::if(pos(%1,9,1)==&quot;a&quot; &amp;&amp; up(#2)==&quot;ДЕЛО&quot;) &quot;true&quot; else &quot;false&quot; fi;" type="PARSER">
      <rule value="251($c)::ipx(%1,&quot;: &quot;);"/>
      <rule value="461$1852($a[0-],$g[0-],$j[0-])[0-], 462(852($g[0-],$j[0-])[0-], 2001?($v[0-])[0-])[0-], 852($g[0-],$j[0-])[0-]::if(!empty(%2|%3)) ipx(%1,&quot; &quot;,%2|%3) else %1 fi+ipx(&quot; Оп. &quot;,#2%1|#2%2)+if(!empty(#4%1|#4%2)) ipx(&quot; Д. &quot;,#4%1|#4%2) else ipx(&quot; &quot;,#3) fi;"/>
      <rule value="2001?($a)::iser(%1, &quot;. &quot;);"/>
      <rule value=":: &quot;\n&quot;;"/>
      <rule value="2001?($a,$j[0-])::iser(%1|%2, &quot;. &quot;)+&quot;\n&quot;;"/>
      <rule value="461$1001 :: &quot;[SEEF]&lt;Фонд>{\&quot;area\&quot;:\&quot;iddb\&quot;, \&quot;query\&quot;:\&quot;ID '&quot; + rpl(%1, &quot;\\&quot;, &quot;\\\\\\\\&quot;) + &quot;'\&quot;}&quot; + &quot;\n&quot;;"/>
      <rule value="000, 001, 461[0], 462[0] :: if(pos(%1,7,3)==&quot;c1a&quot;) &quot;[SEEF]&lt;Опись>{\&quot;area\&quot;:\&quot;iddb\&quot;, \&quot;query\&quot;:\&quot;ARCB '&quot; + rpl(#2, &quot;\\&quot;, &quot;\\\\\\\\&quot;) + &quot;'\&quot;}&quot; + &quot;\n&quot; fi;"/>
      <rule value="000, 461[1], 462$1001[1] :: if(pos(%1,7,3)==&quot;c2a&quot;) &quot;[SEEF]&lt;Опись>{\&quot;area\&quot;:\&quot;iddb\&quot;, \&quot;query\&quot;:\&quot;ID '&quot; + rpl(#3, &quot;\\&quot;, &quot;\\\\\\\\&quot;) + &quot;'\&quot;}&quot; + &quot;\n&quot; fi;"/>
      <rule value="000, 461[1], 462(001, 251($c)) :: if(pos(%1,7,3)==&quot;m2a&quot;) &quot;[SEEF]&lt;&quot; + #4 + &quot;>{\&quot;area\&quot;:\&quot;iddb\&quot;, \&quot;query\&quot;:\&quot;ID '&quot; + rpl(#3, &quot;\\&quot;, &quot;\\\\\\\\&quot;) + &quot;'\&quot;}&quot; + &quot;\n&quot; fi;"/>
      <rule value="000, 001, 461[0], 462[0] :: if(pos(%1,7,3)==&quot;c1a&quot;) &quot;[SEEF]&lt;Документ>{\&quot;area\&quot;:\&quot;iddb\&quot;, \&quot;query\&quot;:\&quot;ARCE '&quot; + rpl(#2, &quot;\\&quot;, &quot;\\\\\\\\&quot;) + &quot;'\&quot;}&quot; + &quot;\n&quot; fi;"/>
      <rule value="000, 001, 461[1], 462[0-] :: if(pos(%1,7,3)==&quot;c2a&quot;) &quot;[SEEF]&lt;Документ>{\&quot;area\&quot;:\&quot;iddb\&quot;, \&quot;query\&quot;:\&quot;ARCE '&quot; + rpl(#2, &quot;\\&quot;, &quot;\\\\\\\\&quot;) + &quot;'\&quot;}&quot; + &quot;\n&quot; fi;"/>
    </buildingParams>
    <buildingParams condition="000,251($c)::if(pos(%1,9,1)==&quot;a&quot; &amp;&amp; up(#2)==&quot;ДОКУМЕНТ&quot;) &quot;true&quot; else &quot;false&quot; fi;" type="METAPARSER">
      <rule value="vivod:251($c):ipx(%1,&quot;: &quot;);"/>
      <rule value="fond:461$1852($a[0-],$g[0-],$j[0-])[0-]:if(!empty(%2|%3)) ipx(%1,&quot; &quot;,%2|%3) else %1 fi;"/>
      <rule value="opis:462(852($j[0-]))[0-/0]:ipx(&quot; Оп. &quot;,%1,&quot; &quot;);"/>
      <rule value="delo:462(852($j[0-]))[0-/1]:ipx(&quot; Д. &quot;,%1,&quot; &quot;);"/>
      <rule value="doc:852($j[0-])[0-/0], 462$1200($v)[0-]:if(!empty(%1)) ipx(&quot; Док. &quot;,%1,&quot; &quot;) else ipx(&quot; Док. &quot;,#2,&quot; &quot;) fi;"/>
      <rule value="vivod(|)::#fond+#opis+#delo+#doc;"/>
      <rule value="vivod(|):200($a):iser(%1,&quot;. &quot;);"/>
      <rule value="vivod(|)::&quot;\n&quot;;"/>
      <rule value="vivod(|):2001?($a,$j[0-]): iser(%1|%2,&quot;. &quot;)+&quot;\n&quot;;"/>
      <rule value="vivod(|):8564?($a$d[0-]$f[0-]):&quot;[URL]&lt;Электронный документ>&quot;+%1+ipx(&quot;/&quot;,%2)+px(&quot;/&quot;,%3)+&quot;\n&quot;;"/>
      <rule value="vivod(|):856($a[0],$q[0-/0],$u[1],$2[0-],$x[0-],$9[0-]):if (empty(%4) &amp;&amp; empty(%5)) if(up(token(%2,&quot;/&quot;)[0])!=&quot;IMAGE&quot;) if(!empty(%4)) &quot;[URL]&lt;&quot; + %4 + &quot;> &quot; else &quot;[URL]&lt;Электронный документ>&quot; fi+%3+&quot;\n&quot; fi fi;"/>
      <rule value="vivod(|):461$1001:&quot;[SEEF]&lt;Фонд>{\&quot;area\&quot;:\&quot;iddb\&quot;, \&quot;query\&quot;:\&quot;ID '&quot; + rpl(%1, &quot;\\&quot;, &quot;\\\\\\\\&quot;) + &quot;'\&quot;}&quot; + &quot;\n&quot;;"/>
      <rule value="vivod(|):000, 461[1], 462(001, 251($c)):if(pos(%1,7,3)==&quot;m2a&quot;) &quot;[SEEF]&lt;&quot; + #4 + &quot;>{\&quot;area\&quot;:\&quot;iddb\&quot;, \&quot;query\&quot;:\&quot;ID '&quot; + rpl(#3, &quot;\\&quot;, &quot;\\\\\\\\&quot;) + &quot;'\&quot;}&quot; + &quot;\n&quot; fi;"/>
      <rule value="::#vivod;"/>
    </buildingParams>
    <buildingParams condition="000::if(pos(%1,7,3)==&quot;c1 &quot; &amp;&amp; pos(%1,18,1)==&quot;x&quot;) &quot;true&quot; else &quot;false&quot; fi;" type="METAPARSER">
      <rule value="name::&quot;Коллекция: &quot;;"/>
      <rule value="title(|):500($a,$e[0-])[1-],210($d)[0-]:%1+if (!empty(%2)) &quot; : &quot;+iser(%2,&quot;, &quot;) fi+if (!empty(#2%1)) &quot; (&quot;+#2%1+&quot;)&quot; fi+&quot;\n&quot;;"/>
      <rule value="title(|):200($a,$e[0-])[1-],210($d)[0-]:if (empty(#title)) %1+if (!empty(%2)) &quot; : &quot;+iser(%2,&quot;, &quot;) fi+if (!empty(#2%1)) &quot;  (&quot;+#2%1+&quot;)&quot; fi+&quot;\n&quot; fi;"/>
      <rule value="over(|):330($a):if(pos(width(%1,300,&quot;@&quot;),299,1)==&quot;@&quot;) %1 else pos(%1,0,300) +&quot;...&quot; fi +&quot;\n&quot;;"/>
      <rule value="over(|):001:&quot;[SEEF]&lt;Включает коллекции>{\&quot;area\&quot;:\&quot;iddb\&quot;, \&quot;query\&quot;:\&quot;COL '&quot; + up(rpl(%1, &quot;\\&quot;, &quot;\\\\\\\\&quot;)) + &quot;'\&quot;}&quot; + &quot;\n&quot;;"/>
      <rule value="::#name+#title+#over;"/>
    </buildingParams>
    <buildingParams condition="000::if(pos(%1,7,3)==&quot;c2 &quot; &amp;&amp; pos(%1,18,1)==&quot;x&quot;) &quot;true&quot; else &quot;false&quot; fi;" type="METAPARSER">
      <rule value="name::&quot;Коллекция: &quot;;"/>
      <rule value="title(|):500($a,$e[0-])[1-],210($d)[0-]:%1+if (!empty(%2)) &quot; : &quot;+iser(%2,&quot;, &quot;) fi+if (!empty(#2%1)) &quot; (&quot;+#2%1+&quot;)&quot; fi+&quot;\n&quot;;"/>
      <rule value="title(|):200($a,$e[0-])[1-],210($d)[0-]:if (empty(#title)) %1+if (!empty(%2)) &quot; : &quot;+iser(%2,&quot;, &quot;) fi+if (!empty(#2%1)) &quot;  (&quot;+#2%1+&quot;)&quot; fi+&quot;\n&quot; fi;"/>
      <rule value="over(|):330($a) :if(pos(width(%1,300,&quot;@&quot;),299,1)==&quot;@&quot;) %1 else pos(%1,0,300) +&quot;...&quot; fi +&quot;\n&quot;;"/>
      <rule value="over(|):{461,462}(200($a),001[0-]):&quot;[SEEF]&lt;Входит в коллекцию:  &quot;+%1+&quot;>{\&quot;area\&quot;:\&quot;iddb\&quot;, \&quot;query\&quot;:\&quot;ID '&quot; + up(rpl(#2, &quot;\\&quot;, &quot;\\\\\\\\&quot;)) + &quot;'\&quot;}&quot; + &quot;\n&quot;;"/>
      <rule value="over(|):001:&quot;[SEEF]&lt;Включает коллекции>{\&quot;area\&quot;:\&quot;iddb\&quot;, \&quot;query\&quot;:\&quot;COL '&quot; + up(rpl(%1, &quot;\\&quot;, &quot;\\\\\\\\&quot;)) + &quot;'\&quot;}&quot; + &quot;\n&quot;;"/>
      <rule value="::#name+#title+#over;"/>
    </buildingParams>
    <buildingParams condition="::&quot;true&quot;;" type="METAPARSER">
      <rule value="data(|):700($a,$b[0-]):%1+ipx(&quot; &quot;,%2)+&quot;, &quot;;"/>
      <rule value="data(|):700[0],701($a,$b[0-])[/0]:#2%1+ipx(&quot; &quot;,#2%2)+&quot;, &quot;;"/>
      <rule value="data(|):{700,701}[0],710($a)[/0]:#2%1+&quot;, &quot;;"/>
      <rule value="data(|):{700,701,710}[0],461$1700($a,$b[0-]):#2%1+ipx(&quot; &quot;,#2%2)+&quot;, &quot;;"/>
      <rule value="data(|):{700,701,710,461$1700}[0],461$1701($a,$b[0-])[/0]:#2%1+ipx(&quot; &quot;,#2%2)+&quot;, &quot;;"/>
      <rule value="data(|):{700,701,710,461$1700,461$1701}[0],461$1710($a)[/0]:#2%1+&quot;, &quot;;"/>
      <rule value="data(|):2001?($a${ehi}[0-]):iser(%1,&quot;. &quot;)+ipx(for (i=%2: &quot;. &quot;+i));"/>
      <rule value="data(|):461$12001?($a),2001?[1-]:ipx(&quot;. &quot;,%1) ;"/>
      <rule value="data(|):461$12001?($a),2001?[0]:ipx(&quot; &quot;,%1) ;"/>
      <rule value="data(|):461$12001?($v):ipx(&quot; &quot;,%1);"/>
      <rule value="data(|):210($d):ipx(&quot; - &quot;,%1);"/>
      <rule value="data(|):225($a,${efhi}[0-],$v[0-]):&quot; (&quot;+iser(%1,&quot;. &quot;)+ipx(for (i=%2: &quot;. &quot;+i))+ipx(&quot;. &quot;,%3)+&quot;)&quot;;"/>
      <rule value="data(|):000,463$12001?($a[0-],$v[0-])[0-],461$12001?($a[0-])[0-],463$1210($d[0-])[0-]:if(pos(#1,7,1)==&quot;a&quot; &amp;&amp; (!empty(#2) || !empty(#2%2) || !empty(#3))) &quot; (&quot;+if (!empty(#2)) ipx(#2,&quot;. &quot;) else ipx(#3,&quot;. &quot;) fi+ipx(#4,&quot; &quot;)+#2%2+&quot;)&quot; fi;"/>
      <rule value="data(|)::&quot;\n&quot;;"/>
      <rule value="str:713($c[/0]):%1;"/>
      <rule value="data1(|)::&quot;&lt;b>Местонахождение: &lt;/b>&quot;+iser(#str, &quot;, &quot;)+&quot;\n&quot;;"/>
      <rule value="data(|):000: &quot;&lt;b>Тип документа:&lt;/b> &quot;+if (up(pos(#1, 6, 1))==&quot;A&quot; || up(pos(#1, 6, 1))==&quot;B&quot;) &quot;тексты&quot; fi + if (up(pos(#1, 6, 1))==&quot;C&quot; || up(pos(#1, 6, 1))==&quot;D&quot;) &quot;ноты/партитуры&quot; fi + if (up(pos(#1, 6, 1))==&quot;E&quot; || up(pos(#1, 6, 1))==&quot;F&quot;) &quot;карты&quot; fi + if (up(pos(#1, 6, 1))==&quot;G&quot;) &quot;видео/проекции&quot; fi + if (up(pos(#1, 6, 1))==&quot;I&quot; || up(pos(#1, 6, 1))==&quot;J&quot;) &quot;аудио/звуки&quot; fi + if (up(pos(#1, 6, 1))==&quot;K&quot;) &quot;2-D графика&quot; fi + if (up(pos(#1, 6, 1))==&quot;L&quot;) &quot;электронные&quot; fi + if (up(pos(#1, 6, 1))==&quot;M&quot;) &quot;комбинированные&quot; fi + if (up(pos(#1, 6, 1))==&quot;R&quot;) &quot;3-D объекты&quot; fi+&quot;\n&quot;;"/>
      <rule value="data(|):101($a[1]): if (up(#1)==&quot;RUS&quot;) &quot;&lt;b>Язык:&lt;/b> русский&quot; fi + if (up(#1)==&quot;ENG&quot;) &quot;&lt;b>Язык:&lt;/b> английский&quot; fi + if (up(#1)==&quot;FRE&quot;) &quot;&lt;b>Язык:&lt;/b> французский&quot; fi + if (up(#1)==&quot;GER&quot;) &quot;&lt;b>Язык:&lt;/b> немецкий&quot; fi + if (up(#1)==&quot;ITA&quot;) &quot;&lt;b>Язык:&lt;/b> итальянский&quot; fi + if (up(#1)==&quot;SPA&quot;) &quot;&lt;b>Язык:&lt;/b> испанский&quot; fi + if (up(#1)==&quot;BEL&quot;) &quot;&lt;b>Язык:&lt;/b> белорусский&quot; fi + if (up(#1)==&quot;UKR&quot;) &quot;&lt;b>Язык:&lt;/b> украинский&quot; fi + if (up(#1)==&quot;ARM&quot;) &quot;&lt;b>Язык:&lt;/b> армянский&quot; fi + if (up(#1)==&quot;EPO&quot;) &quot;&lt;b>Язык:&lt;/b> эсперанто&quot; fi + if (up(#1)==&quot;GRE&quot;) &quot;&lt;b>Язык:&lt;/b> греческий&quot; fi + if (up(#1)==&quot;KOM&quot;) &quot;&lt;b>Язык:&lt;/b> коми&quot; fi + if (up(#1)==&quot;LAT&quot;) &quot;&lt;b>Язык:&lt;/b> латинский&quot; fi + if (up(#1)==&quot;POL&quot;) &quot;&lt;b>Язык:&lt;/b> польский&quot; fi + if (up(#1)==&quot;POR&quot;) &quot;&lt;b>Язык:&lt;/b> португальский&quot; fi + if (up(#1)==&quot;RUM&quot;) &quot;&lt;b>Язык:&lt;/b> румынский&quot; fi + if (up(#1)==&quot;SAH&quot;) &quot;&lt;b>Язык:&lt;/b> якутский&quot; fi + if (up(#1)==&quot;GEO&quot;) &quot;&lt;b>Язык:&lt;/b> грузинский&quot; fi + if (up(#1)==&quot;AZE&quot;) &quot;&lt;b>Язык:&lt;/b> азербайджанский&quot; fi+&quot;\n&quot;;"/>
      <rule value="data(|):{105,110}($a): if(up(pos(#1, 4, 1))==&quot;A&quot;) &quot;&lt;b>Форма содержания:&lt;/b> библиографические издания&quot; fi +  if(up(pos(#1, 4, 1))==&quot;B&quot;) &quot;&lt;b>Форма содержания:&lt;/b> каталоги&quot; fi + if(up(pos(#1, 4, 1))==&quot;C&quot;) &quot;&lt;b>Форма содержания:&lt;/b> указатели&quot; fi + if(up(pos(#1, 4, 1))==&quot;E&quot;) &quot;&lt;b>Форма содержания:&lt;/b> словари&quot; fi + if(up(pos(#1, 4, 1))==&quot;F&quot;) &quot;&lt;b>Форма содержания:&lt;/b> энциклопедии&quot; fi + if(up(pos(#1, 4, 1))==&quot;G&quot;) &quot;&lt;b>Форма содержания:&lt;/b> справочные издания&quot; fi + if(up(pos(#1, 4, 1))==&quot;I&quot;) &quot;&lt;b>Форма содержания:&lt;/b> статистические отчеты&quot; fi + if(up(pos(#1, 4, 1))==&quot;J&quot;) &quot;&lt;b>Форма содержания:&lt;/b> учебные издания&quot; fi + if(up(pos(#1, 4, 1))==&quot;T&quot;) &quot;&lt;b>Форма содержания:&lt;/b> карикатуры и комиксы&quot; fi+&quot;\n&quot;;"/>
      <rule value="data(|):105($a): if(up(pos(#1, 4, 1))==&quot;7&quot;) &quot;&lt;b>Форма содержания:&lt;/b> дипломные работы&quot; fi + if(up(pos(#1, 4, 2))==&quot;DM&quot; || up(pos(#1,4,1))==&quot;M&quot; || up(pos(#1,4,1))==&quot;V&quot;) &quot;&lt;b>Форма содержания:&lt;/b> диссертации/авторефераты&quot; fi + if((up(pos(#1, 4, 1))==&quot;D&quot;) &amp;&amp; (up(pos(#1, 5, 1)) != &quot;M&quot;)) &quot;&lt;b>Форма содержания:&lt;/b> рефераты и резюме&quot; fi + if(up(pos(#1, 4, 1))==&quot;H&quot;) &quot;&lt;b>Форма содержания:&lt;/b> описания проектов&quot; fi + if(up(pos(#1, 4, 1))==&quot;K&quot;) &quot;&lt;b>Форма содержания:&lt;/b> патентные документы&quot; fi + if(up(pos(#1, 4, 1))==&quot;L&quot;) &quot;&lt;b>Форма содержания:&lt;/b> стандарты&quot; fi + if(up(pos(#1, 4, 1))==&quot;N&quot;) &quot;&lt;b>Форма содержания:&lt;/b> законы и законодательные акты&quot; fi + if(up(pos(#1, 4, 1))==&quot;O&quot;) &quot;&lt;b>Форма содержания:&lt;/b> цифровые таблицы&quot; fi + if(up(pos(#1, 4, 1))==&quot;P&quot;) &quot;&lt;b>Форма содержания:&lt;/b> технические отчеты&quot; fi + if(up(pos(#1, 4, 1))==&quot;Q&quot;) &quot;&lt;b>Форма содержания:&lt;/b> экзаменационные листы&quot; fi + if(up(pos(#1, 4, 1))==&quot;R&quot;) &quot;&lt;b>Форма содержания:&lt;/b> литературные обзоры/рецензии&quot; fi + if(up(pos(#1, 4, 1))==&quot;S&quot;) &quot;&lt;b>Форма содержания:&lt;/b> договоры&quot; fi + if(up(pos(#1, 4, 1))==&quot;W&quot;) &quot;&lt;b>Форма содержания:&lt;/b> религиозные тексты&quot; fi+&quot;\n&quot;;"/>
      <rule value="data(|):110($a): if(up(pos(#1, 4, 1))==&quot;H&quot;) &quot;&lt;b>Форма содержания:&lt;/b> ежегодные отчеты/обзоры&quot; fi + if(up(pos(#1, 4, 1))==&quot;K&quot;) &quot;&lt;b>Форма содержания:&lt;/b> обзор&quot; fi + if(up(pos(#1, 4, 1))==&quot;L&quot;) &quot;&lt;b>Форма содержания:&lt;/b> законодательные акты&quot; fi + if(up(pos(#1, 4, 1))==&quot;M&quot;) &quot;&lt;b>Форма содержания:&lt;/b> судебные отчеты и сборники решений судов&quot; fi + if(up(pos(#1, 4, 1))==&quot;N&quot;) &quot;&lt;b>Форма содержания:&lt;/b> юридические статьи&quot; fi + if(up(pos(#1, 4, 1))==&quot;O&quot;) &quot;&lt;b>Форма содержания:&lt;/b> случаи из судебной практики&quot; fi + if(up(pos(#1, 4, 1))==&quot;P&quot;) &quot;&lt;b>Форма содержания:&lt;/b> биографии&quot; fi + if(up(pos(#1, 4, 1))==&quot;R&quot;) &quot;&lt;b>Форма содержания:&lt;/b> текущие периодические обзоры&quot; fi+&quot;\n&quot;;"/>
      <rule value="data(|):210($a,$b[0-],$c[0-],$d[0-],$e[0-],$f[0-],$g[0-],$h[0-]):&quot;&lt;b>Издатель: &lt;/b>&quot;+iser(%1,&quot;; &quot;)+px(&quot; &quot;,%2)+px(&quot;: &quot;,%3)+px(&quot;, &quot;,%4)+if (!empty(%5) || !empty(%6) || !empty(%7) || !empty(%8)) &quot; (&quot;+iser(%5,&quot;; &quot;)+px(&quot; &quot;,%6)+px(&quot;: &quot;,%7)+px(&quot;, &quot;,%8)+&quot;)&quot; fi+&quot;\n&quot;;"/>
      <rule value="data(|):318($a):&quot;&lt;b>Статус: &lt;/b>&quot;+%1+&quot;\n&quot;;"/>
      <rule value="data(|):330:&quot;[SEE4]&lt;Аннотация>\n&quot;;"/>
      <rule value="data(|):8564?($a$d[0-]$f[0-]):&quot;[URL]&lt;Электронный документ>&quot;+%1+ipx(&quot;/&quot;,%2)+px(&quot;/&quot;,%3)+&quot;\n&quot;;"/>
      <rule value="data(|):856($a[0],$q[0-/0],$u[1],$2[0-],$x[0-],$9[0-]):if (empty(%4) &amp;&amp; empty(%5)) if(up(token(%2,&quot;/&quot;)[0])!=&quot;IMAGE&quot;) if(!empty(%4)) &quot;[URL]&lt;&quot; + %4 + &quot;> &quot; else &quot;[URL]&lt;Электронный документ>&quot; fi+%3+&quot;\n&quot; fi fi;"/>
      <rule value="data(|):000:if(pos(%1,7,2)==&quot;s1&quot; || pos(%1,7,2)==&quot;s2&quot; || pos(%1,7,2)==&quot;m1&quot; || pos(%1,7,2)==&quot;91&quot;) &quot;[SEE2]&lt;Включает>\n&quot; endif;"/>
      <rule value="data(|):000,001: if(up(pos(%1,7,2))==&quot;M2&quot;) &quot;[SEEF]&lt;Статьи/части>{\&quot;area\&quot;:\&quot;container=*/BIBL\&quot;,\&quot;query\&quot;:\&quot;RELATION '&quot;+px(&quot;463       &quot;,#2)+&quot;'\&quot;}\n&quot; fi;"/>
      <rule value="data(|):000,001: if(up(pos(%1,7,1))==&quot;S&quot; || pos(%1,8,1)==&quot;1&quot;) &quot;[SEEF]&lt;Тома/выпуски>{\&quot;area\&quot;:\&quot;container=*/BIBL\&quot;,\&quot;query\&quot;:\&quot;(RELATION '&quot;+px(&quot;461       &quot;,#2)+&quot;' OR '&quot;+px(&quot;462       &quot;,#2)+&quot;') AND BL M AND IL 2&quot;+&quot;\&quot;}\n&quot; fi;"/>
      <rule value="data(|):000,{461$1001,462$1001}:if(pos(%1,7,2)==&quot;s2&quot; || pos(%1,7,2)==&quot;m1&quot; || pos(%1,7,2)==&quot;91&quot; || pos(%1,7,2)==&quot;m2&quot; || pos(%1,7,2)==&quot;m0&quot;) &quot;[SEE1]&lt;Входит в...>\n&quot; endif;"/>
      <rule value="data(|):000,{461$1001,463$1001}:if(pos(%1,7,2)==&quot;a0&quot;) &quot;[SEE1]&lt;Источник>\n&quot; endif;"/>
      <rule value="data(|):899: &quot;[SEE7]&lt;Местонахождение>\n&quot;;"/>
      <rule value="data(|):899: &quot;[SEE6]&lt;Движение экземпляров>\n&quot;;"/>
      <rule value="data(|):010($a):&quot;[ISBN]&lt;ISBN>&quot;+%1+&quot;\n&quot;;"/>
      <rule value="::#data;"/>
    </buildingParams>
  </opacOutForm>
</opacOutFormList>
